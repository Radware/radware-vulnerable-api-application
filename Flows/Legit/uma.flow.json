{
  "name": "UmaTurner - Login and Check Details",
  "description": "UmaTurner logs in, fetches her profile, and then gets her list of addresses and credit cards to review them. This represents a read-only account checkup, which is a common and legitimate user behavior.",
  "headers": {
    "Accept": "application/json"
  },
  "staticVars": {
    "baseUrl": "https://bla-secure.ase-team.com",
    "umaUsername": "UmaTurner",
    "umaPassword": "UmaPass20!",
    "umaUserId": "00000021-0000-0000-0000-000000000021"
  },
  "steps": [
    {
      "id": "step_uma_login",
      "name": "Login UmaTurner",
      "type": "request",
      "method": "POST",
      "url": "{{baseUrl}}/api/auth/login?username={{umaUsername}}&password={{umaPassword}}",
      "extract": {
        "token": "body.access_token"
      },
      "onFailure": "stop"
    },
    {
      "id": "step_uma_get_profile",
      "name": "Uma: Get Own Profile",
      "type": "request",
      "method": "GET",
      "url": "{{baseUrl}}/api/users/{{umaUserId}}",
      "headers": {
        "Authorization": "Bearer {{token}}"
      },
      "onFailure": "stop"
    },
    {
      "id": "step_uma_get_addresses",
      "name": "Uma: Get All Addresses",
      "type": "request",
      "method": "GET",
      "url": "{{baseUrl}}/api/users/{{umaUserId}}/addresses",
      "headers": {
        "Authorization": "Bearer {{token}}"
      },
      "onFailure": "continue"
    },
    {
      "id": "step_uma_get_cards",
      "name": "Uma: Get All Credit Cards",
      "type": "request",
      "method": "GET",
      "url": "{{baseUrl}}/api/users/{{umaUserId}}/credit-cards",
      "headers": {
        "Authorization": "Bearer {{token}}"
      },
      "onFailure": "continue"
    }
  ],
  "visualLayout": {
    "step_uma_login": { "x": 50, "y": 50 },
    "step_uma_get_profile": { "x": 250, "y": 50 },
    "step_uma_get_addresses": { "x": 450, "y": 50 },
    "step_uma_get_cards": { "x": 650, "y": 50 }
  }
}
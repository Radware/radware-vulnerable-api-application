{
  "name": "YvonneMartinez - Legacy + B2B Discovery",
  "description": "Protected user YvonneMartinez logs in, uses legacy address search and legacy order status, then performs a B2B partner lookup.",
  "headers": {
    "Accept": "application/json",
    "x-remote-ip": "{{RANDOM_IP}}"
  },
  "staticVars": {
    "baseUrl": "https://bla-bypass.ase-team.com",
    "userUsername": "YvonneMartinez",
    "userPassword": "YvonnePass24!",
    "userId": "00000025-0000-0000-0000-000000000025",
    "legacyOrderId": "6517a1de-d03f-52aa-bbf5-df45d4d77ae5",
    "legacyToken": "legacy-demo",
    "addressSearchQuery": "Sample%20City",
    "partnerCode": "yvonn132nez"
  },
  "steps": [
    {
      "id": "step_yvonnemartinez_login",
      "name": "Login YvonneMartinez",
      "type": "request",
      "method": "POST",
      "url": "{{baseUrl}}/api/auth/login?username={{userUsername}}&password={{userPassword}}",
      "extract": {
        "token": "body.access_token"
      },
      "onFailure": "stop"
    },
    {
      "id": "step_yvonnemartinez_legacy_address_search",
      "name": "YvonneMartinez: Legacy Address Search",
      "type": "request",
      "method": "GET",
      "url": "{{baseUrl}}/api/users/{{userId}}/addresses/search-legacy?q={{addressSearchQuery}}",
      "headers": {
        "Authorization": "Bearer {{token}}"
      },
      "onFailure": "stop"
    },
    {
      "id": "step_yvonnemartinez_legacy_order_status",
      "name": "YvonneMartinez: Legacy Order Status",
      "type": "request",
      "method": "GET",
      "url": "{{baseUrl}}/api/users/{{userId}}/orders/{{legacyOrderId}}/status-legacy?legacy_token={{legacyToken}}",
      "headers": {
        "Authorization": "Bearer {{token}}"
      },
      "onFailure": "stop"
    },
    {
      "id": "step_yvonnemartinez_b2b_partner_lookup",
      "name": "YvonneMartinez: B2B Partner Lookup",
      "type": "request",
      "method": "GET",
      "url": "{{baseUrl}}/api/b2b/partner-lookup?q={{partnerCode}}",
      "onFailure": "continue"
    }
  ],
  "visualLayout": {
    "step_yvonnemartinez_login": {
      "x": 50,
      "y": 50
    },
    "step_yvonnemartinez_legacy_address_search": {
      "x": 250,
      "y": 50
    },
    "step_yvonnemartinez_legacy_order_status": {
      "x": 450,
      "y": 50
    },
    "step_yvonnemartinez_b2b_partner_lookup": {
      "x": 650,
      "y": 50
    }
  }
}

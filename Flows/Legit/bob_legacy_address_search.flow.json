{
  "name": "BobJohnson - Legacy Address Search (Short)",
  "description": "Protected user BobJohnson logs in and uses the deprecated address search endpoint in a read-only, non-destructive way.",
  "headers": {
    "Accept": "application/json"
  },
  "staticVars": {
    "baseUrl": "https://bla-secure.ase-team.com",
    "bobUsername": "BobJohnson",
    "bobPassword": "BobPass2@",
    "bobUserId": "00000003-0000-0000-0000-000000000003",
    "addressSearchQuery": "Capital"
  },
  "steps": [
    {
      "id": "step_bob_login_legacy_address",
      "name": "Login BobJohnson",
      "type": "request",
      "method": "POST",
      "url": "{{baseUrl}}/api/auth/login?username={{bobUsername}}&password={{bobPassword}}",
      "extract": {
        "token": "body.access_token"
      },
      "onFailure": "stop"
    },
    {
      "id": "step_bob_legacy_address_search",
      "name": "Bob: Legacy Address Search",
      "type": "request",
      "method": "GET",
      "url": "{{baseUrl}}/api/users/{{bobUserId}}/addresses/search-legacy?q={{addressSearchQuery}}",
      "headers": {
        "Authorization": "Bearer {{token}}"
      },
      "onFailure": "stop"
    }
  ],
  "visualLayout": {
    "step_bob_login_legacy_address": { "x": 50, "y": 50 },
    "step_bob_legacy_address_search": { "x": 250, "y": 50 }
  }
}
